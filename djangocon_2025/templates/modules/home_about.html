{% load static %}

<style>
.image-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    padding: 2rem;
}

.image-item {
    position: relative;
    overflow: hidden;
    border-radius: 10px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.image-item img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.image-item:hover img {
    transform: scale(1.05);
}

.image-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 37, 1, 0.8), transparent);
    padding: 1.5rem;
    transform: translateY(100%);
    transition: transform 0.3s ease;
}

.image-item:hover .image-overlay {
    transform: translateY(0);
}

.image-title {
    color: var(--primary-light);
    font-size: 1rem;
    font-weight: 500;
    margin: 0;
}

/* Lightbox styles */
.lightbox {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 37, 1, 0.9);
    z-index: 1000;
}
</style>

<div class="container">
    <div class="container-fluid home-subheader">
        <div class="justify-content-center home-about">
            <div class="row justify-content-center">
                <div class="col-12 col-md-12 custom-left-content text-left mb-5">
                    {{ content.html | safe }}
                </div>
                
                <div class="col-12">
                    <div class="image-grid">
                        <div class="image-item">
                            <img src="{% static 'images/home_carousel/hp-carousel-img-1.jpg' %}" alt="DJCEU 2023 Breakroom">
                            <div class="image-overlay">
                                <h3 class="image-title">Breakroom Moments</h3>
                            </div>
                        </div>
                        <div class="image-item">
                            <img src="{% static 'images/home_carousel/hp-carousel-img-2.jpg' %}" alt="DJCEU 2023 Talk">
                            <div class="image-overlay">
                                <h3 class="image-title">Engaging Talks</h3>
                            </div>
                        </div>
                        <div class="image-item">
                            <img src="{% static 'images/home_carousel/hp-carousel-img-3.jpg' %}" alt="DJCEU 2023 Party">
                            <div class="image-overlay">
                                <h3 class="image-title">Community Events</h3>
                            </div>
                        </div>
                        <div class="image-item">
                            <img src="{% static 'images/home_carousel/hp-carousel-img-4.jpg' %}" alt="DJCEU 2023 Group">
                            <div class="image-overlay">
                                <h3 class="image-title">Together We Code</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.querySelectorAll('.image-item').forEach(item => {
    item.addEventListener('click', e => {
        const img = e.currentTarget.querySelector('img');
        const lightbox = document.createElement('div');
        lightbox.className = 'lightbox';
        lightbox.innerHTML = `
            <img src="${img.src}" style="max-height: 90vh; max-width: 90vw; margin: auto; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        `;
        document.body.appendChild(lightbox);
        
        lightbox.addEventListener('click', () => {
            lightbox.remove();
        });
    });
});
</script>